var require=function(file,cwd){var resolved=require.resolve(file,cwd||"/"),mod=require.modules[resolved];if(!mod)throw new Error("Failed to resolve module "+file+", tried "+resolved);var res=mod._cached?mod._cached:mod();return res};require.paths=[],require.modules={},require.extensions=[".js",".coffee"],require._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0},require.resolve=function(){return function(x,cwd){function loadAsFileSync(x){if(require.modules[x])return x;for(var i=0;i<require.extensions.length;i++){var ext=require.extensions[i];if(require.modules[x+ext])return x+ext}}function loadAsDirectorySync(x){x=x.replace(/\/+$/,"");var pkgfile=x+"/package.json";if(require.modules[pkgfile]){var pkg=require.modules[pkgfile](),b=pkg.browserify;if("object"==typeof b&&b.main){var m=loadAsFileSync(path.resolve(x,b.main));if(m)return m}else if("string"==typeof b){var m=loadAsFileSync(path.resolve(x,b));if(m)return m}else if(pkg.main){var m=loadAsFileSync(path.resolve(x,pkg.main));if(m)return m}}return loadAsFileSync(x+"/index")}function loadNodeModulesSync(x,start){for(var dirs=nodeModulesPathsSync(start),i=0;i<dirs.length;i++){var dir=dirs[i],m=loadAsFileSync(dir+"/"+x);if(m)return m;var n=loadAsDirectorySync(dir+"/"+x);if(n)return n}var m=loadAsFileSync(x);return m?m:void 0}function nodeModulesPathsSync(start){var parts;parts="/"===start?[""]:path.normalize(start).split("/");for(var dirs=[],i=parts.length-1;i>=0;i--)if("node_modules"!==parts[i]){var dir=parts.slice(0,i+1).join("/")+"/node_modules";dirs.push(dir)}return dirs}if(cwd||(cwd="/"),require._core[x])return x;var path=require.modules.path(),y=cwd||".";if(x.match(/^(?:\.\.?\/|\/)/)){var m=loadAsFileSync(path.resolve(y,x))||loadAsDirectorySync(path.resolve(y,x));if(m)return m}var n=loadNodeModulesSync(x,y);if(n)return n;throw new Error("Cannot find module '"+x+"'")}}(),require.alias=function(from,to){var path=require.modules.path(),res=null;try{res=require.resolve(from+"/package.json","/")}catch(err){res=require.resolve(from,"/")}for(var basedir=path.dirname(res),keys=(Object.keys||function(obj){var res=[];for(var key in obj)res.push(key);return res})(require.modules),i=0;i<keys.length;i++){var key=keys[i];if(key.slice(0,basedir.length+1)===basedir+"/"){var f=key.slice(basedir.length);require.modules[to+f]=require.modules[basedir+f]}else key===basedir&&(require.modules[to]=require.modules[basedir])}},require.define=function(filename,fn){var dirname=require._core[filename]?"":require.modules.path().dirname(filename),require_=function(file){return require(file,dirname)};require_.resolve=function(name){return require.resolve(name,dirname)},require_.modules=require.modules,require_.define=require.define;var module_={exports:{}};require.modules[filename]=function(){return require.modules[filename]._cached=module_.exports,fn.call(module_.exports,require_,module_,module_.exports,dirname,filename),require.modules[filename]._cached=module_.exports,module_.exports}},"undefined"==typeof process&&(process={}),process.nextTick||(process.nextTick=function(){var queue=[],canPost="undefined"!=typeof window&&window.postMessage&&window.addEventListener;return canPost&&window.addEventListener("message",function(ev){if(ev.source===window&&"browserify-tick"===ev.data&&(ev.stopPropagation(),queue.length>0)){var fn=queue.shift();fn()}},!0),function(fn){canPost?(queue.push(fn),window.postMessage("browserify-tick","*")):setTimeout(fn,0)}}()),process.title||(process.title="browser"),process.binding||(process.binding=function(name){if("evals"===name)return require("vm");throw new Error("No such module")}),process.cwd||(process.cwd=function(){return"."}),require.define("path",function(require,module,exports){function filter(xs,fn){for(var res=[],i=0;i<xs.length;i++)fn(xs[i],i,xs)&&res.push(xs[i]);return res}function normalizeArray(parts,allowAboveRoot){for(var up=0,i=parts.length;i>=0;i--){var last=parts[i];"."==last?parts.splice(i,1):".."===last?(parts.splice(i,1),up++):up&&(parts.splice(i,1),up--)}if(allowAboveRoot)for(;up--;up)parts.unshift("..");return parts}var splitPathRe=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;exports.resolve=function(){for(var resolvedPath="",resolvedAbsolute=!1,i=arguments.length;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();"string"==typeof path&&path&&(resolvedPath=path+"/"+resolvedPath,resolvedAbsolute="/"===path.charAt(0))}return resolvedPath=normalizeArray(filter(resolvedPath.split("/"),function(p){return!!p}),!resolvedAbsolute).join("/"),(resolvedAbsolute?"/":"")+resolvedPath||"."},exports.normalize=function(path){var isAbsolute="/"===path.charAt(0),trailingSlash="/"===path.slice(-1);return path=normalizeArray(filter(path.split("/"),function(p){return!!p}),!isAbsolute).join("/"),path||isAbsolute||(path="."),path&&trailingSlash&&(path+="/"),(isAbsolute?"/":"")+path},exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,function(p){return p&&"string"==typeof p}).join("/"))},exports.dirname=function(path){var dir=splitPathRe.exec(path)[1]||"",isWindows=!1;return dir?1===dir.length||isWindows&&dir.length<=3&&":"===dir.charAt(1)?dir:dir.substring(0,dir.length-1):"."},exports.basename=function(path,ext){var f=splitPathRe.exec(path)[2]||"";return ext&&f.substr(-1*ext.length)===ext&&(f=f.substr(0,f.length-ext.length)),f},exports.extname=function(path){return splitPathRe.exec(path)[3]||""}}),require.define("/shred.js",function(require,module){var Ax=require("ax"),CookieJarLib=require("cookiejar"),CookieJar=CookieJarLib.CookieJar,Shred=function(options){options=options||{},this.agent=options.agent,this.defaults=options.defaults||{},this.log=options.logger||new Ax({level:"info"}),this._sharedCookieJar=new CookieJar,this.logCurl=options.logCurl||!1};Shred.Request=require("./shred/request"),Shred.Response=require("./shred/response"),Shred.prototype={request:function(options){options.logger=this.log,options.logCurl=options.logCurl||this.logCurl,options.cookieJar="cookieJar"in options?options.cookieJar:this._sharedCookieJar,options.agent=options.agent||this.agent;for(var key in this.defaults)this.defaults.hasOwnProperty(key)&&!options[key]&&(options[key]=this.defaults[key]);return new Shred.Request(options)}},"get put post delete".split(" ").forEach(function(method){Shred.prototype[method]=function(options){return options.method=method,this.request(options)}}),module.exports=Shred}),require.define("/node_modules/ax/package.json",function(require,module){module.exports={main:"./lib/ax.js"}}),require.define("/node_modules/ax/lib/ax.js",function(require,module){var fs=(require("util").inspect,require("fs")),Logger=function(options){var logger=this,options=options||{};switch(options.level=options.level||"info",options.timestamp=options.timestamp||!0,options.prefix=options.prefix||"",logger.options=options,logger.options.module&&(logger.options.prefix=logger.options.module),logger.options.file?logger.stream=fs.createWriteStream(logger.options.file,{flags:"a"}):"node"===process.title?logger.stream=process.stderr:"browser"===process.title&&(logger.stream=function(){return console[logger.options.level].apply(console,arguments)}),logger.options.level){case"debug":["debug","info","warn"].forEach(function(level){logger[level]=Logger.writer(level)});case"info":["info","warn"].forEach(function(level){logger[level]=Logger.writer(level)});case"warn":logger.warn=Logger.writer("warn")}};Logger.writer=function(level){return function(message){var logger=this;"node"===process.title?logger.stream.write(logger.format(level,message)+"\n"):"browser"===process.title&&logger.stream(logger.format(level,message)+"\n")}},Logger.prototype={info:function(){},debug:function(){},warn:function(){},error:Logger.writer("error"),format:function(level,message){if(!message)return"";var logger=this,prefix=logger.options.prefix,timestamp=logger.options.timestamp?" "+(new Date).toISOString():"";return prefix+timestamp+": "+message}},module.exports=Logger}),require.define("util",function(){}),require.define("fs",function(){}),require.define("/node_modules/cookiejar/package.json",function(require,module){module.exports={main:"cookiejar.js"}}),require.define("/node_modules/cookiejar/cookiejar.js",function(require,module,exports){exports.CookieAccessInfo=CookieAccessInfo=function CookieAccessInfo(domain,path,secure,script){return this instanceof CookieAccessInfo?(this.domain=domain||void 0,this.path=path||"/",this.secure=!!secure,this.script=!!script,this):new CookieAccessInfo(domain,path,secure,script)},exports.Cookie=Cookie=function Cookie(cookiestr){return cookiestr instanceof Cookie?cookiestr:this instanceof Cookie?(this.name=null,this.value=null,this.expiration_date=1/0,this.path="/",this.domain=null,this.secure=!1,this.noscript=!1,cookiestr&&this.parse(cookiestr),this):new Cookie(cookiestr)},Cookie.prototype.toString=function(){var str=[this.name+"="+this.value];return 1/0!==this.expiration_date&&str.push("expires="+new Date(this.expiration_date).toGMTString()),this.domain&&str.push("domain="+this.domain),this.path&&str.push("path="+this.path),this.secure&&str.push("secure"),this.noscript&&str.push("httponly"),str.join("; ")},Cookie.prototype.toValueString=function(){return this.name+"="+this.value};var cookie_str_splitter=/[:](?=\s*[a-zA-Z0-9_\-]+\s*[=])/g;Cookie.prototype.parse=function(str){if(this instanceof Cookie){var parts=str.split(";"),pair=parts[0].match(/([^=]+)=((?:.|\n)*)/),key=pair[1],value=pair[2];this.name=key,this.value=value;for(var i=1;i<parts.length;i++)switch(pair=parts[i].match(/([^=]+)(?:=((?:.|\n)*))?/),key=pair[1].trim().toLowerCase(),value=pair[2],key){case"httponly":this.noscript=!0;break;case"expires":this.expiration_date=value?Number(Date.parse(value)):1/0;break;case"path":this.path=value?value.trim():"";break;case"domain":this.domain=value?value.trim():"";break;case"secure":this.secure=!0}return this}return(new Cookie).parse(str)},Cookie.prototype.matches=function(access_info){return this.noscript&&access_info.script||this.secure&&!access_info.secure||!this.collidesWith(access_info)?!1:!0},Cookie.prototype.collidesWith=function(access_info){if(this.path&&!access_info.path||this.domain&&!access_info.domain)return!1;if(this.path&&0!==access_info.path.indexOf(this.path))return!1;if(this.domain===access_info.domain)return!0;if(this.domain&&"."===this.domain.charAt(0)){var wildcard=access_info.domain.indexOf(this.domain.slice(1));if(-1===wildcard||wildcard!==access_info.domain.length-this.domain.length+1)return!1}else if(this.domain)return!1;return!0},exports.CookieJar=CookieJar=function CookieJar(){if(this instanceof CookieJar){var cookies={};return this.setCookie=function(cookie){cookie=Cookie(cookie);var remove=cookie.expiration_date<=Date.now();if(cookie.name in cookies){for(var cookies_list=cookies[cookie.name],i=0;i<cookies_list.length;i++){var collidable_cookie=cookies_list[i];if(collidable_cookie.collidesWith(cookie))return remove?(cookies_list.splice(i,1),0===cookies_list.length&&delete cookies[cookie.name],!1):cookies_list[i]=cookie}return remove?!1:(cookies_list.push(cookie),cookie)}return remove?!1:cookies[cookie.name]=[cookie]},this.getCookie=function(cookie_name,access_info){for(var cookies_list=cookies[cookie_name],i=0;i<cookies_list.length;i++){var cookie=cookies_list[i];if(cookie.expiration_date<=Date.now())0===cookies_list.length&&delete cookies[cookie.name];else if(cookie.matches(access_info))return cookie}},this.getCookies=function(access_info){var matches=[];for(var cookie_name in cookies){var cookie=this.getCookie(cookie_name,access_info);cookie&&matches.push(cookie)}return matches.toString=function(){return matches.join(":")},matches.toValueString=function(){return matches.map(function(c){return c.toValueString()}).join(";")},matches},this}return new CookieJar},CookieJar.prototype.setCookies=function(cookies){cookies=Array.isArray(cookies)?cookies:cookies.split(cookie_str_splitter);for(var successful=[],i=0;i<cookies.length;i++){var cookie=Cookie(cookies[i]);this.setCookie(cookie)&&successful.push(cookie)}return successful}}),require.define("/shred/request.js",function(require,module){var HTTP=require("http"),HTTPS=require("https"),parseUri=require("./parseUri"),Emitter=require("events").EventEmitter,sprintf=require("sprintf").sprintf,Response=require("./response"),HeaderMixins=require("./mixins/headers"),Content=require("./content"),STATUS_CODES=HTTP.STATUS_CODES||{100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version not supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended"},Request=function(options){this.log=options.logger,this.cookieJar=options.cookieJar,this.encoding=options.encoding,this.logCurl=options.logCurl,processOptions(this,options||{}),createRequest(this)};Object.defineProperties(Request.prototype,{url:{get:function(){return this.scheme?sprintf("%s://%s:%s%s",this.scheme,this.host,this.port,(this.proxy?"/":this.path)+(this.query?"?"+this.query:"")):null},set:function(_url){return _url=parseUri(_url),this.scheme=_url.protocol,this.host=_url.host,this.port=_url.port,this.path=_url.path,this.query=_url.query,this},enumerable:!0},headers:{get:function(){return this.getHeaders()},enumerable:!0},port:{get:function(){if(!this._port)switch(this.scheme){case"https":return this._port=443;case"http":default:return this._port=80}return this._port},set:function(value){return this._port=value,this},enumerable:!0},method:{get:function(){return this._method=this._method||"GET"},set:function(value){return this._method=value,this},enumerable:!0},query:{get:function(){return this._query},set:function(value){var stringify=function(hash){var query="";for(var key in hash)query+=encodeURIComponent(key)+"="+encodeURIComponent(hash[key])+"&";return query=query.slice(0,-1)};return value?("object"==typeof value&&(value=stringify(value)),this._query=value):this._query="",this},enumerable:!0},parameters:{get:function(){return QueryString.parse(this._query||"")},enumerable:!0},body:{get:function(){return this._body},set:function(value){return this._body=new Content({data:value,type:this.getHeader("Content-Type")}),this.setHeader("Content-Type",this.content.type),this.setHeader("Content-Length",this.content.length),this},enumerable:!0},timeout:{get:function(){return this._timeout},set:function(timeout){var milliseconds=0;return timeout?(milliseconds="number"==typeof timeout?timeout:(timeout.milliseconds||0)+1e3*((timeout.seconds||0)+60*((timeout.minutes||0)+60*(timeout.hours||0))),this._timeout=milliseconds,this):this},enumerable:!0}}),Object.defineProperty(Request.prototype,"content",Object.getOwnPropertyDescriptor(Request.prototype,"body")),Request.prototype.inspect=function(){var request=this,headers=this.format_headers(),summary=["<Shred Request> ",request.method.toUpperCase(),request.url].join(" ");return[summary,"- Headers:",headers].join("\n")},Request.prototype.format_headers=function(){var array=[],headers=this._headers;for(var key in headers)if(headers.hasOwnProperty(key)){var value=headers[key];array.push("	"+key+": "+value)}return array.join("\n")},Request.prototype.on=function(eventOrHash,listener){var emitter=this.emitter;if(1===arguments.length&&"function"==typeof eventOrHash)emitter.on("response",eventOrHash);else if(1===arguments.length&&"object"==typeof eventOrHash)for(var key in eventOrHash)eventOrHash.hasOwnProperty(key)&&emitter.on(key,eventOrHash[key]);else emitter.on(eventOrHash,listener);return this},HeaderMixins.gettersAndSetters(Request);var processOptions=function(request,options){if(request.log.debug("Processing request options .."),request.emitter=new Emitter,request.agent=options.agent,options.on)for(var key in options.on)options.on.hasOwnProperty(key)&&request.emitter.on(key,options.on[key]);if(!options.url&&!options.host)return request.emitter.emit("request_error",new Error("No url or url options (host, port, etc.)")),void 0;if(options.url&&(options.proxy?(request.url=options.proxy,request.path=options.url):request.url=options.url),request.query=options.query||options.parameters||request.query,request.method=options.method,request.setHeader("user-agent",options.agent||"Shred"),request.setHeaders(options.headers),request.cookieJar){var cookies=request.cookieJar.getCookies(CookieAccessInfo(request.host,request.path));if(cookies.length){for(var cookieString=request.getHeader("cookie")||"",cookieIndex=0;cookieIndex<cookies.length;++cookieIndex)cookieString.length&&";"!=cookieString[cookieString.length-1]&&(cookieString+=";"),cookieString+=cookies[cookieIndex].name+"="+cookies[cookieIndex].value+";";request.setHeader("cookie",cookieString)}}(options.body||options.content)&&(request.content=options.body||options.content),request.timeout=options.timeout},createRequest=function(request){var timeout;request.log.debug("Creating request .."),request.log.debug(request);var reqParams={host:request.host,port:request.port,method:request.method,path:request.path+(request.query?"?"+request.query:""),headers:request.getHeaders(),scheme:request.scheme,agent:request.agent};request.logCurl&&logCurl(request);var http="http"==request.scheme?HTTP:HTTPS;request._raw=http.request(reqParams,function(response){request.log.debug("Received response .."),clearTimeout(timeout),response=new Response(response,request,function(response){var emit=function(event){var emitter=request.emitter,textStatus=STATUS_CODES[response.status]?STATUS_CODES[response.status].toLowerCase():null;emitter.listeners(response.status).length>0||emitter.listeners(textStatus).length>0?(emitter.emit(response.status,response),emitter.emit(textStatus,response)):emitter.listeners(event).length>0?emitter.emit(event,response):response.isRedirect||emitter.emit("response",response)};response.isRedirect?(request.log.debug("Redirecting to "+response.getHeader("Location")),request.url=response.getHeader("Location"),emit("redirect"),createRequest(request)):response.isError?emit("error"):emit("success")})}),request._raw.on("error",function(error){request.emitter.emit("request_error",error)}),request._raw.on("socket",function(socket){request.emitter.emit("socket",socket)}),request._raw.on("socket",function(){request._raw.socket.on("timeout",function(){request._raw.abort()})}),request.content&&(request.log.debug("Streaming body: '"+request.content.data.slice(0,59)+"' ... "),request._raw.write(request.content.data)),request.timeout&&(timeout=setTimeout(function(){request.log.debug("Timeout fired, aborting request ..."),request._raw.abort(),request.emitter.emit("timeout",request)},request.timeout)),request.log.debug("Sending request ..."),request._raw.end()},logCurl=function(req){var headers=req.getHeaders(),headerString="";for(var key in headers)headerString+='-H "'+key+": "+headers[key]+'" ';var bodyString="";req.content&&(bodyString+="-d '"+req.content.body+"' ");var query=req.query?"?"+req.query:"";console.log("curl -X "+req.method.toUpperCase()+" "+req.scheme+"://"+req.host+":"+req.port+req.path+query+" "+headerString+bodyString)};module.exports=Request}),require.define("http",function(){}),require.define("https",function(){}),require.define("/shred/parseUri.js",function(require,module){function parseUri(str){for(var o=parseUri.options,m=o.parser[o.strictMode?"strict":"loose"].exec(str),uri={},i=14;i--;)uri[o.key[i]]=m[i]||"";return uri[o.q.name]={},uri[o.key[12]].replace(o.q.parser,function($0,$1,$2){$1&&(uri[o.q.name][$1]=$2)}),uri}parseUri.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},module.exports=parseUri}),require.define("events",function(require,module,exports){process.EventEmitter||(process.EventEmitter=function(){});var EventEmitter=exports.EventEmitter=process.EventEmitter,isArray="function"==typeof Array.isArray?Array.isArray:function(xs){return"[object Array]"===Object.toString.call(xs)},defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){this._events||(this._events={}),this._events.maxListeners=n},EventEmitter.prototype.emit=function(type){if("error"===type&&(!this._events||!this._events.error||isArray(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var handler=this._events[type];if(!handler)return!1;if("function"==typeof handler){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:var args=Array.prototype.slice.call(arguments,1);handler.apply(this,args)}return!0}if(isArray(handler)){for(var args=Array.prototype.slice.call(arguments,1),listeners=handler.slice(),i=0,l=listeners.length;l>i;i++)listeners[i].apply(this,args);return!0}return!1},EventEmitter.prototype.addListener=function(type,listener){if("function"!=typeof listener)throw new Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",type,listener),this._events[type])if(isArray(this._events[type])){if(!this._events[type].warned){var m;m=void 0!==this._events.maxListeners?this._events.maxListeners:defaultMaxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),console.trace())}this._events[type].push(listener)}else this._events[type]=[this._events[type],listener];else this._events[type]=listener;return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){var self=this;return self.on(type,function g(){self.removeListener(type,g),listener.apply(this,arguments)}),this},EventEmitter.prototype.removeListener=function(type,listener){if("function"!=typeof listener)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[type])return this;var list=this._events[type];if(isArray(list)){var i=list.indexOf(listener);if(0>i)return this;list.splice(i,1),0==list.length&&delete this._events[type]}else this._events[type]===listener&&delete this._events[type];return this},EventEmitter.prototype.removeAllListeners=function(type){return type&&this._events&&this._events[type]&&(this._events[type]=null),this},EventEmitter.prototype.listeners=function(type){return this._events||(this._events={}),this._events[type]||(this._events[type]=[]),isArray(this._events[type])||(this._events[type]=[this._events[type]]),this._events[type]}}),require.define("/node_modules/sprintf/package.json",function(require,module){module.exports={main:"./lib/sprintf"}}),require.define("/node_modules/sprintf/lib/sprintf.js",function(require,module,exports){/**
sprintf() for JavaScript 0.7-beta1
http://www.diveintojavascript.com/projects/javascript-sprintf

Copyright (c) Alexandru Marasteanu <alexaholic [at) gmail (dot] com>
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:
    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.
    * Neither the name of sprintf() for JavaScript nor the
      names of its contributors may be used to endorse or promote products
      derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL Alexandru Marasteanu BE LIABLE FOR ANY
DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.


Changelog:
2010.11.07 - 0.7-beta1-node
  - converted it to a node.js compatible module

2010.09.06 - 0.7-beta1
  - features: vsprintf, support for named placeholders
  - enhancements: format cache, reduced global namespace pollution

2010.05.22 - 0.6:
 - reverted to 0.4 and fixed the bug regarding the sign of the number 0
 Note:
 Thanks to Raphael Pigulla <raph (at] n3rd [dot) org> (http://www.n3rd.org/)
 who warned me about a bug in 0.5, I discovered that the last update was
 a regress. I appologize for that.

2010.05.09 - 0.5:
 - bug fix: 0 is now preceeded with a + sign
 - bug fix: the sign was not at the right position on padded results (Kamal Abdali)
 - switched from GPL to BSD license

2007.10.21 - 0.4:
 - unit test and patch (David Baird)

2007.09.17 - 0.3:
 - bug fix: no longer throws exception on empty paramenters (Hans Pufal)

2007.09.11 - 0.2:
 - feature: added argument swapping

2007.04.03 - 0.1:
 - initial release
**/
var sprintf=function(){function get_type(variable){return Object.prototype.toString.call(variable).slice(8,-1).toLowerCase()}function str_repeat(input,multiplier){for(var output=[];multiplier>0;output[--multiplier]=input);return output.join("")}var str_format=function(){return str_format.cache.hasOwnProperty(arguments[0])||(str_format.cache[arguments[0]]=str_format.parse(arguments[0])),str_format.format.call(null,str_format.cache[arguments[0]],arguments)};return str_format.format=function(parse_tree,argv){var arg,i,k,match,pad,pad_character,pad_length,cursor=1,tree_length=parse_tree.length,node_type="",output=[];for(i=0;tree_length>i;i++)if(node_type=get_type(parse_tree[i]),"string"===node_type)output.push(parse_tree[i]);else if("array"===node_type){if(match=parse_tree[i],match[2])for(arg=argv[cursor],k=0;k<match[2].length;k++){if(!arg.hasOwnProperty(match[2][k]))throw sprintf('[sprintf] property "%s" does not exist',match[2][k]);arg=arg[match[2][k]]}else arg=match[1]?argv[match[1]]:argv[cursor++];if(/[^s]/.test(match[8])&&"number"!=get_type(arg))throw sprintf("[sprintf] expecting number but found %s",get_type(arg));switch(match[8]){case"b":arg=arg.toString(2);break;case"c":arg=String.fromCharCode(arg);break;case"d":arg=parseInt(arg,10);break;case"e":arg=match[7]?arg.toExponential(match[7]):arg.toExponential();break;case"f":arg=match[7]?parseFloat(arg).toFixed(match[7]):parseFloat(arg);break;case"o":arg=arg.toString(8);break;case"s":arg=(arg=String(arg))&&match[7]?arg.substring(0,match[7]):arg;break;case"u":arg=Math.abs(arg);break;case"x":arg=arg.toString(16);break;case"X":arg=arg.toString(16).toUpperCase()}arg=/[def]/.test(match[8])&&match[3]&&arg>=0?"+"+arg:arg,pad_character=match[4]?"0"==match[4]?"0":match[4].charAt(1):" ",pad_length=match[6]-String(arg).length,pad=match[6]?str_repeat(pad_character,pad_length):"",output.push(match[5]?arg+pad:pad+arg)}return output.join("")},str_format.cache={},str_format.parse=function(fmt){for(var _fmt=fmt,match=[],parse_tree=[],arg_names=0;_fmt;){if(null!==(match=/^[^\x25]+/.exec(_fmt)))parse_tree.push(match[0]);else if(null!==(match=/^\x25{2}/.exec(_fmt)))parse_tree.push("%");else{if(null===(match=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(_fmt)))throw"[sprintf] huh?";if(match[2]){arg_names|=1;var field_list=[],replacement_field=match[2],field_match=[];if(null===(field_match=/^([a-z_][a-z_\d]*)/i.exec(replacement_field)))throw"[sprintf] huh?";for(field_list.push(field_match[1]);""!==(replacement_field=replacement_field.substring(field_match[0].length));)if(null!==(field_match=/^\.([a-z_][a-z_\d]*)/i.exec(replacement_field)))field_list.push(field_match[1]);else{if(null===(field_match=/^\[(\d+)\]/.exec(replacement_field)))throw"[sprintf] huh?";field_list.push(field_match[1])}match[2]=field_list}else arg_names|=2;if(3===arg_names)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";parse_tree.push(match)}_fmt=_fmt.substring(match[0].length)}return parse_tree},str_format}(),vsprintf=function(fmt,argv){return argv.unshift(fmt),sprintf.apply(null,argv)};exports.sprintf=sprintf,exports.vsprintf=vsprintf}),require.define("/shred/response.js",function(require,module){var Content=require("./content"),HeaderMixins=require("./mixins/headers"),CookieJarLib=require("cookiejar"),Cookie=CookieJarLib.Cookie,zlib=null;try{zlib=require("zlib")}catch(e){console.warn("no zlib library")}var Iconv=null;try{Iconv=require("iconv-lite")}catch(e){console.warn("no iconv library")}var Response=function(raw,request,callback){var response=this;if(this._raw=raw,this._setHeaders.call(this,raw.headers),request.cookieJar&&this.getHeader("set-cookie")){for(var cookie,cookieStrings=this.getHeader("set-cookie"),cookieObjs=[],i=0;i<cookieStrings.length;i++){var cookieString=cookieStrings[i];if(cookieString){cookieString.match(/domain\=/i)||(cookieString+="; domain="+request.host),cookieString.match(/path\=/i)||(cookieString+="; path="+request.path);try{cookie=new Cookie(cookieString),cookie&&cookieObjs.push(cookie)}catch(e){console.warn("Tried to set bad cookie: "+cookieString)}}}request.cookieJar.setCookies(cookieObjs)}this.request=request,this.client=request.client,this.log=this.request.log;var chunkBuffers=[],dataLength=0;raw.on("data",function(chunk){chunkBuffers.push(chunk),dataLength+=chunk.length}),raw.on("end",function(){var body;if("undefined"==typeof Buffer)body=chunkBuffers.join("");else{body=new Buffer(dataLength);for(var i=0,pos=0;i<chunkBuffers.length;i++)chunkBuffers[i].copy(body,pos),pos+=chunkBuffers[i].length}var setBodyAndFinish=function(body){response._body=new Content({body:body,type:response.getHeader("Content-Type")}),callback(response)};zlib&&"gzip"===response.getHeader("Content-Encoding")?zlib.gunzip(body,function(err,gunzippedBody){body=Iconv&&response.request.encoding?Iconv.fromEncoding(gunzippedBody,response.request.encoding):gunzippedBody.toString(),setBodyAndFinish(body)}):(response.request.encoding&&(body=Iconv.fromEncoding(body,response.request.encoding)),setBodyAndFinish(body))})};Response.prototype={inspect:function(){var response=this,headers=this.format_headers(),summary=["<Shred Response> ",response.status].join(" ");return[summary,"- Headers:",headers].join("\n")},format_headers:function(){var array=[],headers=this._headers;for(var key in headers)if(headers.hasOwnProperty(key)){var value=headers[key];array.push("	"+key+": "+value)}return array.join("\n")}},Object.defineProperties(Response.prototype,{status:{get:function(){return this._raw.statusCode},enumerable:!0},body:{get:function(){return this._body}},content:{get:function(){return this.body},enumerable:!0},isRedirect:{get:function(){return this.status>299&&this.status<400&&this.getHeader("Location")},enumerable:!0},isError:{get:function(){return 0===this.status||this.status>399},enumerable:!0}}),HeaderMixins.getters(Response),HeaderMixins.privateSetters(Response);var getHeader=Response.prototype.getHeader;Response.prototype.getHeader=function(name){return getHeader.call(this,name)||"function"==typeof this._raw.getHeader&&this._raw.getHeader(name)},module.exports=Response}),require.define("/shred/content.js",function(require,module){var Content=function(options){this.body=options.body,this.data=options.data,this.type=options.type};Content.prototype={},Object.defineProperties(Content.prototype,{type:{get:function(){if(this._type)return this._type;if(this._data)switch(typeof this._data){case"string":return"text/plain";case"object":return"application/json"}return"text/plain"},set:function(value){return this._type=value,this},enumerable:!0},data:{get:function(){return this._body?this.processor.parser(this._body):this._data},set:function(data){return this._body&&data&&Errors.setDataWithBody(this),this._data=data,this},enumerable:!0},body:{get:function(){return this._data?this.processor.stringify(this._data):this.processor.stringify(this._body)},set:function(body){return this._data&&body&&Errors.setBodyWithData(this),this._body=body,this},enumerable:!0},processor:{get:function(){var processor=Content.processors[this.type];if(processor)return processor;for(var main=this.type.split(";")[0],parts=main.split(/\+|\//),i=0,l=parts.length;l>i;i++)processor=Content.processors[parts[i]];return processor||{parser:identity,stringify:toString}},enumerable:!0},length:{get:function(){return"undefined"!=typeof Buffer?Buffer.byteLength(this.body):this.body.length}}}),Content.processors={},Content.registerProcessor=function(types,processor){types.forEach?types.forEach(function(type){Content.processors[type]=processor}):Content.processors[types]=processor};var identity=function(x){return x},toString=function(x){return x.toString()};Content.registerProcessor(["text/html","text/plain","text"],{parser:identity,stringify:toString}),Content.registerProcessor(["application/json; charset=utf-8","application/json","json"],{parser:function(string){return JSON.parse(string)},stringify:function(data){return JSON.stringify(data)}});var Errors={setDataWithBody:function(){throw new Error("Attempt to set data attribute of a content object when the body attributes was already set.")},setBodyWithData:function(){throw new Error("Attempt to set body attribute of a content object when the data attributes was already set.")}};module.exports=Content}),require.define("/shred/mixins/headers.js",function(require,module){var corsetCase=function(string){return string.toLowerCase().replace(/(^|-)(\w)/g,function(s){return s.toUpperCase()})},initializeHeaders=function(){return{}},$H=function(object){return object._headers||(object._headers=initializeHeaders(object))},getHeader=function(object,name){return $H(object)[corsetCase(name)]},getHeaders=function(object,names){var keys=names&&names.length>0?names:Object.keys($H(object)),hash=keys.reduce(function(hash,key){return hash[key]=getHeader(object,key),hash},{});return Object.freeze(hash),hash},setHeader=function(object,name,value){return $H(object)[corsetCase(name)]=value,object},setHeaders=function(object,hash){for(var key in hash)setHeader(object,key,hash[key]);return this};module.exports={getters:function(constructor){constructor.prototype.getHeader=function(name){return getHeader(this,name)},constructor.prototype.getHeaders=function(){return getHeaders(this,arguments)}},privateSetters:function(constructor){constructor.prototype._setHeader=function(key,value){return setHeader(this,key,value)},constructor.prototype._setHeaders=function(hash){return setHeaders(this,hash)}},setters:function(constructor){constructor.prototype.setHeader=function(key,value){return setHeader(this,key,value)},constructor.prototype.setHeaders=function(hash){return setHeaders(this,hash)}},gettersAndSetters:function(constructor){constructor.prototype.getHeader=function(name){return getHeader(this,name)},constructor.prototype.getHeaders=function(){return getHeaders(this,arguments)},constructor.prototype.setHeader=function(key,value){return setHeader(this,key,value)},constructor.prototype.setHeaders=function(hash){return setHeaders(this,hash)}}}}),require.define("/node_modules/iconv-lite/package.json",function(require,module){module.exports={}}),require.define("/node_modules/iconv-lite/index.js",function(require,module,exports,__dirname){var iconv=module.exports={toEncoding:function(str,encoding){return iconv.getCodec(encoding).toEncoding(str)},fromEncoding:function(buf,encoding){return iconv.getCodec(encoding).fromEncoding(buf)},defaultCharUnicode:"ï¿½",defaultCharSingleByte:"?",getCodec:function(encoding){for(var enc=encoding||"utf8",codecOptions=void 0;;){"String"===getType(enc)&&(enc=enc.replace(/[- ]/g,"").toLowerCase());var codec=iconv.encodings[enc],type=getType(codec);if("String"===type)codecOptions={originalEncoding:enc},enc=codec;else{if("Object"!==type||void 0==codec.type){if("Function"===type)return codec(codecOptions);throw new Error("Encoding not recognized: '"+encoding+"' (searched as: '"+enc+"')")}codecOptions=codec,enc=codec.type}}},encodings:{internal:function(options){return{toEncoding:function(str){return new Buffer(ensureString(str),options.originalEncoding)},fromEncoding:function(buf){return ensureBuffer(buf).toString(options.originalEncoding)}}},utf8:"internal",ucs2:"internal",binary:"internal",ascii:"internal",base64:"internal",singlebyte:function(options){if(!options.chars||128!==options.chars.length&&256!==options.chars.length)throw new Error("Encoding '"+options.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(128===options.chars.length&&(options.chars=asciiString+options.chars),options.charsBuf||(options.charsBuf=new Buffer(options.chars,"ucs2")),!options.revCharsBuf){options.revCharsBuf=new Buffer(65536);for(var defChar=iconv.defaultCharSingleByte.charCodeAt(0),i=0;i<options.revCharsBuf.length;i++)options.revCharsBuf[i]=defChar;for(var i=0;i<options.chars.length;i++)options.revCharsBuf[options.chars.charCodeAt(i)]=i}return{toEncoding:function(str){str=ensureString(str);for(var buf=new Buffer(str.length),revCharsBuf=options.revCharsBuf,i=0;i<str.length;i++)buf[i]=revCharsBuf[str.charCodeAt(i)];return buf},fromEncoding:function(buf){buf=ensureBuffer(buf);for(var charsBuf=options.charsBuf,newBuf=new Buffer(2*buf.length),idx1=0,idx2=0,i=0,_len=buf.length;_len>i;i++)idx1=2*buf[i],idx2=2*i,newBuf[idx2]=charsBuf[idx1],newBuf[idx2+1]=charsBuf[idx1+1];return newBuf.toString("ucs2")}}},table:function(options){var key,table=options.table,revCharsTable=options.revCharsTable;if(!table)throw new Error("Encoding '"+options.type+"' has incorect 'table' option");if(!revCharsTable){revCharsTable=options.revCharsTable={};for(key in table)revCharsTable[table[key]]=parseInt(key)}return{toEncoding:function(str){str=ensureString(str);for(var strLen=str.length,bufLen=strLen,i=0;strLen>i;i++)str.charCodeAt(i)>>7&&bufLen++;for(var gbkcode,unicode,newBuf=new Buffer(bufLen),defaultChar=revCharsTable[iconv.defaultCharUnicode.charCodeAt(0)],i=0,j=0;strLen>i;i++)unicode=str.charCodeAt(i),unicode>>7?(gbkcode=revCharsTable[unicode]||defaultChar,newBuf[j++]=gbkcode>>8,newBuf[j++]=255&gbkcode):newBuf[j++]=unicode;return newBuf},fromEncoding:function(buf){buf=ensureBuffer(buf);for(var bufLen=buf.length,strLen=0,i=0;bufLen>i;i++)strLen++,128&buf[i]&&i++;for(var unicode,gbkcode,newBuf=new Buffer(2*strLen),defaultChar=iconv.defaultCharUnicode.charCodeAt(0),i=0,j=0;bufLen>i;i++,j+=2)gbkcode=buf[i],128&gbkcode?(gbkcode=(gbkcode<<8)+buf[++i],unicode=table[gbkcode]||defaultChar):unicode=gbkcode,newBuf[j]=255&unicode,newBuf[j+1]=unicode>>8;return newBuf.toString("ucs2")}}}}};iconv.encode=iconv.toEncoding,iconv.decode=iconv.fromEncoding;var encodingsDir=__dirname+"/encodings/",fs=require("fs");fs.readdirSync(encodingsDir).forEach(function(file){if(!fs.statSync(encodingsDir+file).isDirectory()){var encodings=require(encodingsDir+file);for(var key in encodings)iconv.encodings[key]=encodings[key]}});var asciiString="\x00\b	\n\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",ensureBuffer=function(buf){return buf=buf||new Buffer(0),buf instanceof Buffer?buf:new Buffer(buf.toString(),"utf8")},ensureString=function(str){return str=str||"",str instanceof String?str:str.toString(str instanceof Buffer?"utf8":void 0)},getType=function(obj){return Object.prototype.toString.call(obj).slice(8,-1)}}),require.define("/node_modules/http-browserify/package.json",function(require,module){module.exports={main:"index.js",browserify:"browser.js"}}),require.define("/node_modules/http-browserify/browser.js",function(require,module){var http=module.exports,Request=(require("events").EventEmitter,require("./lib/request"));http.request=function(params,cb){params||(params={}),params.host||(params.host=window.location.host.split(":")[0]),params.port||(params.port=window.location.port);var req=new Request(new xhrHttp,params);return cb&&req.on("response",cb),req},http.get=function(params,cb){params.method="GET";var req=http.request(params,cb);return req.end(),req};var xhrHttp=function(){if("undefined"==typeof window)throw new Error("no window object present");if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.ActiveXObject){for(var axs=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"],i=0;i<axs.length;i++)try{var ax=new window.ActiveXObject(axs[i]);return function(){if(ax){var ax_=ax;return ax=null,ax_}return new window.ActiveXObject(axs[i])}}catch(e){}throw new Error("ajax not supported in this browser")}throw new Error("ajax not supported in this browser")}();http.STATUS_CODES={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version not supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended"}}),require.define("/node_modules/http-browserify/lib/request.js",function(require,module){var EventEmitter=require("events").EventEmitter,Response=require("./response"),isSafeHeader=require("./isSafeHeader"),Request=module.exports=function(xhr,params){var self=this;self.xhr=xhr,self.body="";var uri=params.host+":"+params.port+(params.path||"/");xhr.open(params.method||"GET",(params.scheme||"http")+"://"+uri,!0),params.headers&&Object.keys(params.headers).forEach(function(key){if(isSafeHeader(key)){var value=params.headers[key];Array.isArray(value)?value.forEach(function(v){xhr.setRequestHeader(key,v)}):xhr.setRequestHeader(key,value)}});var res=new Response(xhr);res.on("ready",function(){self.emit("response",res)}),xhr.onreadystatechange=function(){res.handle(xhr)}};Request.prototype=new EventEmitter,Request.prototype.setHeader=function(key,value){if(Array.isArray&&Array.isArray(value)||value instanceof Array)for(var i=0;i<value.length;i++)this.xhr.setRequestHeader(key,value[i]);else this.xhr.setRequestHeader(key,value)},Request.prototype.write=function(s){this.body+=s},Request.prototype.end=function(s){void 0!==s&&this.write(s),this.xhr.send(this.body)}}),require.define("/node_modules/http-browserify/lib/response.js",function(require,module){function parseHeaders(xhr){for(var lines=xhr.getAllResponseHeaders().split(/\r?\n/),headers={},i=0;i<lines.length;i++){var line=lines[i];if(""!==line){var m=line.match(/^([^:]+):\s*(.*)/);if(m){var key=m[1].toLowerCase(),value=m[2];void 0!==headers[key]?Array.isArray&&Array.isArray(headers[key])||headers[key]instanceof Array?headers[key].push(value):headers[key]=[headers[key],value]:headers[key]=value}else headers[line]=!0}}return headers}var EventEmitter=require("events").EventEmitter,isSafeHeader=require("./isSafeHeader"),Response=module.exports=function(xhr){this.xhr=xhr,this.offset=0};Response.prototype=new EventEmitter;var capable={streaming:!0,status2:!0};Response.prototype.getHeader=function(key){var header=this.headers?this.headers[key.toLowerCase()]:null;return header?header:isSafeHeader(key)?this.xhr.getResponseHeader(key):null},Response.prototype.handle=function(){var xhr=this.xhr;if(2===xhr.readyState&&capable.status2){try{this.statusCode=xhr.status,this.headers=parseHeaders(xhr)}catch(err){capable.status2=!1}capable.status2&&this.emit("ready")}else if(capable.streaming&&3===xhr.readyState){try{this.statusCode||(this.statusCode=xhr.status,this.headers=parseHeaders(xhr),this.emit("ready"))}catch(err){}try{this.write()}catch(err){capable.streaming=!1}}else 4===xhr.readyState&&(this.statusCode||(this.statusCode=xhr.status,this.emit("ready")),this.write(),xhr.error?this.emit("error",xhr.responseText):this.emit("end"))},Response.prototype.write=function(){var xhr=this.xhr;xhr.responseText.length>this.offset&&(this.emit("data",xhr.responseText.slice(this.offset)),this.offset=xhr.responseText.length)}}),require.define("/node_modules/http-browserify/lib/isSafeHeader.js",function(require,module){var unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","set-cookie","te","trailer","transfer-encoding","upgrade","user-agent","via"];module.exports=function(headerName){return headerName?-1===unsafeHeaders.indexOf(headerName.toLowerCase()):!1}}),require.alias("http-browserify","/node_modules/http"),require.alias("http-browserify","/node_modules/https");