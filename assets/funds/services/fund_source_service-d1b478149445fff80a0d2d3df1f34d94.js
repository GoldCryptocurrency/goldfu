(function(){app.service("fundSourceService",["$filter","$gon","$resource","accountService",function($filter,$gon,$resource,accountService){var resource;return resource=$resource("/fund_sources/:id",{id:"@id"},{update:{method:"PUT"}}),{filterBy:function(filter){return $filter("filter")($gon.fund_sources,filter)},findBy:function(filter){var result;return result=this.filterBy(filter),result.length?result[0]:null},defaultFundSource:function(filter){var account;return account=accountService.findBy(filter),account?this.findBy({id:account.default_withdraw_fund_source}):null},create:function(data,afterCreate){return resource.save(data,function(){return function(fund_source){return $gon.fund_sources.push(fund_source),afterCreate?afterCreate(fund_source):void 0}}(this))},update:function(fund_source,afterUpdate){var account;return(account=accountService.findBy({currency:fund_source.currency}))?(account.default_withdraw_fund_source=fund_source.id,resource.update({id:fund_source.id},function(){return function(){return afterUpdate?afterUpdate():void 0}}(this))):null},remove:function(fund_source,afterRemove){return resource.remove({id:fund_source.id},function(){return function(){return $gon.fund_sources.splice($gon.fund_sources.indexOf(fund_source),1),afterRemove?afterRemove():void 0}}(this))}}}])}).call(this);