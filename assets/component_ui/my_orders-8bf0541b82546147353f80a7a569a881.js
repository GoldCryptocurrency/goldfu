(function(){this.MyOrdersUI=flight.component(function(){return flight.compose.mixin(this,[ItemListMixin]),this.getTemplate=function(order){return $(JST["templates/order_active"](order))},this.orderHandler=function(event,order){if(order.market===gon.market.id)switch(order.state){case"wait":return this.addOrUpdateItem(order);case"cancel":return this.removeItem(order.id);case"done":return this.removeItem(order.id)}},this.cancelOrder=function(event){var tr;return tr=$(event.target).parents("tr"),confirm(formatter.t("place_order").confirm_cancel)?$.ajax({url:formatter.market_url(gon.market.id,tr.data("id")),method:"delete"}):void 0},this.after("initialize",function(){return this.on(document,"order::wait::populate",this.populate),this.on(document,"order::wait order::cancel order::done",this.orderHandler),this.on(this.select("tbody"),"click",this.cancelOrder)})})}).call(this);