(function(){this.AccountBalanceUI=flight.component(function(){return this.updateAccount=function(event,data){var account,currency,symbol,total,_results;_results=[];for(currency in data)account=data[currency],symbol=gon.currencies[currency].symbol||"",this.$node.find(".account."+currency+" span.balance").text(""+account.balance),this.$node.find(".account."+currency+" span.locked").text(""+account.locked),total=new BigNumber(account.locked).plus(new BigNumber(account.balance)),_results.push(this.$node.find(".account."+currency+" span.total").text(""+symbol+formatter.round(total,2)));return _results},this.updateTotalAssets=function(event,data){var account,currency,fiatCurrency,sum,symbol,ticker;fiatCurrency=gon.fiat_currency,symbol=gon.currencies[fiatCurrency].symbol,sum=0;for(currency in data)account=data[currency],currency===fiatCurrency?(sum+=+account.balance,sum+=+account.locked):(ticker=gon.tickers[""+currency+fiatCurrency])&&(sum+=+account.balance*+ticker.last,sum+=+account.locked*+ticker.last);return this.$node.find(".total-assets").text(" â‰ˆ "+symbol+" "+formatter.round(sum,2))},this.after("initialize",function(){return this.on(document,"account::update",this.updateAccount),this.on(document,"account::update",this.updateTotalAssets)})})}).call(this);